{"ast":null,"code":"import { ref } from \"vue\";\nexport default {\n  setup() {\n    const FORM_ENDPOINT = ref(endpointUrl);\n    const status = ref();\n    function handleSubmit(e) {\n      e.preventDefault();\n\n      // Anything you need to inject dynamically\n      const injectedData = {\n        DYNAMIC_DATA_EXAMPLE: 123\n      };\n      const inputs = e.target.elements;\n      const data = {};\n      inputs.forEach(inp => {\n        if (inp.name) {\n          data[inp.name] = inp.value;\n        }\n      });\n      Object.assign(data, injectedData);\n      fetch(FORM_ENDPOINT.value, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(response => {\n        // It's likely a spam/bot request, so bypass it to validate via captcha\n        if (response.status === 422) {\n          Object.keys(injectedData).forEach(key => {\n            const el = document.createElement(\"input\");\n            el.type = \"hidden\";\n            el.name = key;\n            el.value = injectedData[key];\n            e.target.appendChild(el);\n          });\n          e.target.submit();\n          throw new Error(\"Please finish the captcha challenge\");\n        }\n        if (response.status !== 200) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      }).then(() => status.value = \"We'll be in touch soon.\").catch(err => status.value = err.toString());\n    }\n    return {\n      status,\n      handleSubmit,\n      FORM_ENDPOINT\n    };\n  },\n  // To Add Tailwind\n  beforeCreate() {\n    if (document) {\n      const stylesheet = document.createElement(\"link\");\n      stylesheet.rel = \"stylesheet\";\n      stylesheet.href = \"https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css\";\n      document.head.appendChild(stylesheet);\n    }\n  }\n};","map":{"version":3,"mappings":"AAyHE,SAASA,GAAE,QAAS,KAAK;AACzB,eAAe;EAChBC,KAAK,GAAG;IACN,MAAMC,aAAY,GAAIF,GAAG,CAACG,WAAW,CAAC;IACtC,MAAMC,MAAK,GAAIJ,GAAG,EAAE;IAEpB,SAASK,YAAY,CAACC,CAAC,EAAE;MAC1BA,CAAC,CAACC,cAAc,EAAE;;MAElB;MACA,MAAMC,YAAW,GAAI;QACnBC,oBAAoB,EAAE;MACxB,CAAC;MAED,MAAMC,MAAK,GAAIJ,CAAC,CAACK,MAAM,CAACC,QAAQ;MAChC,MAAMC,IAAG,GAAI,CAAC,CAAC;MAEfH,MAAM,CAACI,OAAO,CAAEC,GAAG,IAAK;QACtB,IAAIA,GAAG,CAACC,IAAI,EAAE;UACfH,IAAI,CAACE,GAAG,CAACC,IAAI,IAAID,GAAG,CAACE,KAAK;QACzB;MACF,CAAC,CAAC;MAEFC,MAAM,CAACC,MAAM,CAACN,IAAI,EAAEL,YAAY,CAAC;MAEjCY,KAAK,CAAClB,aAAa,CAACe,KAAK,EAAE;QACzBI,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACVC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE;QACf,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,IAAI;MAC3B,CAAC,EACEc,IAAI,CAAEC,QAAQ,IAAK;QACrB;QACA,IAAIA,QAAQ,CAACxB,MAAK,KAAM,GAAG,EAAE;UAC3Bc,MAAM,CAACW,IAAI,CAACrB,YAAY,CAAC,CAACM,OAAO,CAAEgB,GAAG,IAAK;YAC5C,MAAMC,EAAC,GAAIC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;YAC1CF,EAAE,CAACG,IAAG,GAAI,QAAQ;YAClBH,EAAE,CAACf,IAAG,GAAIc,GAAG;YACbC,EAAE,CAACd,KAAI,GAAIT,YAAY,CAACsB,GAAG,CAAC;YAE5BxB,CAAC,CAACK,MAAM,CAACwB,WAAW,CAACJ,EAAE,CAAC;UACvB,CAAC,CAAC;UAEFzB,CAAC,CAACK,MAAM,CAACyB,MAAM,EAAE;UACjB,MAAM,IAAIC,KAAK,CAAC,qCAAqC,CAAC;QACxD;QAEA,IAAIT,QAAQ,CAACxB,MAAK,KAAM,GAAG,EAAE;UAC3B,MAAM,IAAIiC,KAAK,CAACT,QAAQ,CAACU,UAAU,CAAC;QACtC;QAEA,OAAOV,QAAQ,CAACW,IAAI,EAAE;MACrB,CAAC,EACAZ,IAAI,CAAC,MAAOvB,MAAM,CAACa,KAAI,GAAI,yBAA0B,EACrDuB,KAAK,CAAEC,GAAG,IAAMrC,MAAM,CAACa,KAAI,GAAIwB,GAAG,CAACC,QAAQ,EAAG,CAAC;IACjD;IAEA,OAAO;MAAEtC,MAAM;MAAEC,YAAY;MAAEH;IAAc,CAAC;EAChD,CAAC;EAAG;EACHyC,YAAY,GAAG;IACb,IAAIX,QAAQ,EAAE;MACZ,MAAMY,UAAS,GAAIZ,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;MACjDW,UAAU,CAACC,GAAE,GAAI,YAAY;MAC7BD,UAAU,CAACE,IAAG,GACZ,wDAAwD;MAE1Dd,QAAQ,CAACe,IAAI,CAACZ,WAAW,CAACS,UAAU,CAAC;IACvC;EACF;AACF,CAAC","names":["ref","setup","FORM_ENDPOINT","endpointUrl","status","handleSubmit","e","preventDefault","injectedData","DYNAMIC_DATA_EXAMPLE","inputs","target","elements","data","forEach","inp","name","value","Object","assign","fetch","method","headers","Accept","body","JSON","stringify","then","response","keys","key","el","document","createElement","type","appendChild","submit","Error","statusText","json","catch","err","toString","beforeCreate","stylesheet","rel","href","head"],"sourceRoot":"","sources":["/Users/francopaolodonatilara/Desktop/portfolio-vue/src/components/contact/ContactForm.vue"],"sourcesContent":["<template>\n\t<div class=\"app-advanced p-10\">\n\t  <img class=\"mx-auto\" alt=\"Vue logo\" src=\"../assets/logo.png\" />\n  \n\t  <form\n\t\t:action=\"FORM_ENDPOINT\"\n\t\t@submit=\"handleSubmit\"\n\t\tmethod=\"POST\"\n\t\tclass=\"w-1/2 mx-auto mt-5\"\n\t  >\n\t\t<div class=\"mb-3 pt-0\">\n\t\t  <input\n\t\t\ttype=\"text\"\n\t\t\tplaceholder=\"Your name\"\n\t\t\tname=\"name\"\n\t\t\tclass=\"\n\t\t\t  px-3\n\t\t\t  py-3\n\t\t\t  placeholder-gray-400\n\t\t\t  text-gray-600\n\t\t\t  relative\n\t\t\t  bg-white bg-white\n\t\t\t  rounded\n\t\t\t  text-sm\n\t\t\t  border-0\n\t\t\t  shadow\n\t\t\t  outline-none\n\t\t\t  focus:outline-none\n\t\t\t  focus:ring\n\t\t\t  w-full\n\t\t\t\"\n\t\t\trequired\n\t\t  />\n\t\t</div>\n  \n\t\t<div class=\"mb-3 pt-0\">\n\t\t  <input\n\t\t\ttype=\"email\"\n\t\t\tplaceholder=\"Email\"\n\t\t\tname=\"email\"\n\t\t\tclass=\"\n\t\t\t  px-3\n\t\t\t  py-3\n\t\t\t  placeholder-gray-400\n\t\t\t  text-gray-600\n\t\t\t  relative\n\t\t\t  bg-white bg-white\n\t\t\t  rounded\n\t\t\t  text-sm\n\t\t\t  border-0\n\t\t\t  shadow\n\t\t\t  outline-none\n\t\t\t  focus:outline-none\n\t\t\t  focus:ring\n\t\t\t  w-full\n\t\t\t\"\n\t\t\trequired\n\t\t  />\n\t\t</div>\n  \n\t\t<div class=\"mb-3 pt-0\">\n\t\t  <textarea\n\t\t\tplaceholder=\"Your message\"\n\t\t\tname=\"message\"\n\t\t\tclass=\"\n\t\t\t  px-3\n\t\t\t  py-3\n\t\t\t  placeholder-gray-400\n\t\t\t  text-gray-600\n\t\t\t  relative\n\t\t\t  bg-white bg-white\n\t\t\t  rounded\n\t\t\t  text-sm\n\t\t\t  border-0\n\t\t\t  shadow\n\t\t\t  outline-none\n\t\t\t  focus:outline-none\n\t\t\t  focus:ring\n\t\t\t  w-full\n\t\t\t\"\n\t\t\trequired\n\t\t  />\n\t\t</div>\n  \n\t\t<div class=\"mb-3 pt-0\">\n\t\t  <button\n\t\t\tclass=\"\n\t\t\t  bg-blue-500\n\t\t\t  text-white\n\t\t\t  active:bg-blue-600\n\t\t\t  font-bold\n\t\t\t  uppercase\n\t\t\t  text-sm\n\t\t\t  px-6\n\t\t\t  py-3\n\t\t\t  rounded\n\t\t\t  shadow\n\t\t\t  hover:shadow-lg\n\t\t\t  outline-none\n\t\t\t  focus:outline-none\n\t\t\t  mr-1\n\t\t\t  mb-1\n\t\t\t  ease-linear\n\t\t\t  transition-all\n\t\t\t  duration-150\n\t\t\t\"\n\t\t\ttype=\"submit\"\n\t\t  >\n\t\t\tSend a message\n\t\t  </button>\n\t\t</div>\n\t  </form>\n  \n\t  <div v-if=\"status\" class=\"text-center mt-10\">\n\t\t<h2 class=\"text-2xl\">Thanks you!</h2>\n\t\t<div class=\"text-md\">{{ status }}</div>\n\t  </div>\n\t</div>\n  </template>\n  \n  <script>\n  import { ref } from \"vue\";\n  export default {\n\tsetup() {\n\t  const FORM_ENDPOINT = ref(endpointUrl);\n\t  const status = ref();\n  \n\t  function handleSubmit(e) {\n\t\te.preventDefault();\n  \n\t\t// Anything you need to inject dynamically\n\t\tconst injectedData = {\n\t\t  DYNAMIC_DATA_EXAMPLE: 123,\n\t\t};\n  \n\t\tconst inputs = e.target.elements;\n\t\tconst data = {};\n  \n\t\tinputs.forEach((inp) => {\n\t\t  if (inp.name) {\n\t\t\tdata[inp.name] = inp.value;\n\t\t  }\n\t\t});\n  \n\t\tObject.assign(data, injectedData);\n  \n\t\tfetch(FORM_ENDPOINT.value, {\n\t\t  method: \"POST\",\n\t\t  headers: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t  },\n\t\t  body: JSON.stringify(data),\n\t\t})\n\t\t  .then((response) => {\n\t\t\t// It's likely a spam/bot request, so bypass it to validate via captcha\n\t\t\tif (response.status === 422) {\n\t\t\t  Object.keys(injectedData).forEach((key) => {\n\t\t\t\tconst el = document.createElement(\"input\");\n\t\t\t\tel.type = \"hidden\";\n\t\t\t\tel.name = key;\n\t\t\t\tel.value = injectedData[key];\n  \n\t\t\t\te.target.appendChild(el);\n\t\t\t  });\n  \n\t\t\t  e.target.submit();\n\t\t\t  throw new Error(\"Please finish the captcha challenge\");\n\t\t\t}\n  \n\t\t\tif (response.status !== 200) {\n\t\t\t  throw new Error(response.statusText);\n\t\t\t}\n  \n\t\t\treturn response.json();\n\t\t  })\n\t\t  .then(() => (status.value = \"We'll be in touch soon.\"))\n\t\t  .catch((err) => (status.value = err.toString()));\n\t  }\n  \n\t  return { status, handleSubmit, FORM_ENDPOINT };\n\t},  // To Add Tailwind\n  beforeCreate() {\n    if (document) {\n      const stylesheet = document.createElement(\"link\");\n      stylesheet.rel = \"stylesheet\";\n      stylesheet.href =\n        \"https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css\";\n\n      document.head.appendChild(stylesheet);\n    }\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}