{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-full md:w-1/2\"\n};\nconst _hoisted_2 = {\n  class: \"leading-loose max-w-xl m-4 p-7 bg-secondary-light dark:bg-secondary-dark rounded-xl shadow-xl text-left\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"font-general-medium text-primary-dark dark:text-primary-light text-2xl mb-8\"\n}, \" Contact Form \", -1 /* HOISTED */);\nconst _hoisted_4 = [\"action\"];\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createTextVNode(\" Full Name \"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  placeholder: \"Your name\",\n  name: \"name\",\n  class: \"w-full px-5 py-3 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-md\",\n  required: \"\"\n})], -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createTextVNode(\" Email \"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"email\",\n  placeholder: \"Email\",\n  name: \"email\",\n  class: \"w-full px-5 py-3 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-md\",\n  required: \"\"\n})], -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  placeholder: \"Message\",\n  name: \"message\",\n  class: \"w-full px-5 py-3 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-md\",\n  required: \"\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_8 = {\n  key: 0,\n  class: \"text-center mt-10\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl\"\n}, \"Thanks you!\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"text-md\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Button = _resolveComponent(\"Button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n    action: $setup.FORM_ENDPOINT,\n    onSubmit: _cache[0] || (_cache[0] = (...args) => $setup.handleSubmit && $setup.handleSubmit(...args)),\n    method: \"POST\",\n    class: \"font-general-regular space-y-1\"\n  }, [_hoisted_5, _createTextVNode(\" Email \"), _hoisted_6, _createTextVNode(\" Message \"), _hoisted_7, _createElementVNode(\"div\", null, [_createVNode(_component_Button, {\n    title: \"Send Message\",\n    class: \"px-4 py-2.5 text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500\",\n    type: \"submit\",\n    \"aria-label\": \"Send Message\"\n  })])], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_4), $setup.status ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"div\", _hoisted_10, _toDisplayString($setup.status), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"mappings":";;EAwEOA,KAAK,EAAC;AAAiB;;EAExBA,KAAK,EAAC;AAAyG;gCAE/GC,oBAII;EAHFD,KAAK,EAAC;AAA6E,GACpF,gBAED;;gCAOFC,oBAUI,4CAVC,aAED,oCAME;EALAC,IAAI,EAAC,MAAM;EACXC,WAAW,EAAC,WAAW;EACvBC,IAAI,EAAC,MAAM;EACXJ,KAAK,EAAC,mMAAmM;EACzMK,QAAQ,EAAR;;gCAKRJ,oBAUM,4CAVD,SAEJ,oCAMS;EALAC,IAAI,EAAC,OAAO;EACZC,WAAW,EAAC,OAAO;EACnBC,IAAI,EAAC,OAAO;EACrBJ,KAAK,EAAC,mMAAmM;EAChMK,QAAQ,EAAR;;gCAKFJ,oBAME;EALAC,IAAI,EAAC,MAAM;EACXC,WAAW,EAAC,SAAS;EACrBC,IAAI,EAAC,SAAS;EACvBJ,KAAK,EAAC,mMAAmM;EAChMK,QAAQ,EAAR;;;;EAYaL,KAAK,EAAC;;gCACvBC,oBAAqC;EAAjCD,KAAK,EAAC;AAAU,GAAC,aAAW;;EAC3BA,KAAK,EAAC;AAAS;;;uBA1D1BM,oBA6DM,OA7DNC,UA6DM,GA5DJN,oBA2DM,OA3DNO,UA2DM,GAxDJC,UAII,EACJR,oBA8CO;IA7CJS,MAAM,EAAEC,oBAAa;IACrBC,QAAM,yCAAED,mDAAY;IACrBE,MAAM,EAAC,MAAM;IACbb,KAAK,EAAC;MAEVc,UAUI,4BAEN,aAUM,8BAEE,aAME,EAEJb,oBAOM,cANJc,aAKEC;IAJAC,KAAK,EAAC,cAAc;IACpBjB,KAAK,EAAC,oIAAoI;IAC1IE,IAAI,EAAC,QAAQ;IACb,YAAU,EAAC;sDAINS,aAAM,kBAAjBL,oBAGM,OAHNY,UAGM,GAFJC,UAAqC,EACrClB,oBAAuC,OAAvCmB,WAAuC,mBAAfT,aAAM","names":["class","_createElementVNode","type","placeholder","name","required","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","action","$setup","onSubmit","method","_hoisted_5","_createVNode","_component_Button","title","_hoisted_8","_hoisted_9","_hoisted_10"],"sourceRoot":"","sources":["/Users/francopaolodonatilara/Desktop/portfolio-vue/src/components/contact/ContactForm.vue"],"sourcesContent":["<script>\nimport Button from \"../reusable/Button.vue\";\n\nimport { ref } from \"vue\";\nexport default {\n  components: { Button },\n\n  setup() {\n    const endpointUrl =\n      \"https://public.herotofu.com/v1/f96e4c70-07e3-11ee-b0a7-9f000c4c1540\";\n    const FORM_ENDPOINT = ref(endpointUrl);\n    const status = ref();\n\n    function handleSubmit(e) {\n      e.preventDefault();\n\n      // Anything you need to inject dynamically\n      const injectedData = {\n        DYNAMIC_DATA_EXAMPLE: 123,\n      };\n\n      const inputs = ['name', 'email', 'message'];\n      const data = {};\n\n      inputs.forEach((inp) => {\n        if (inp.name) {\n          data[inp.name] = inp.value;\n        }\n      });\n\n      Object.assign(data, injectedData);\n\n      fetch(FORM_ENDPOINT.value, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      })\n        .then((response) => {\n          // It's likely a spam/bot request, so bypass it to validate via captcha\n          if (response.status === 422) {\n            Object.keys(injectedData).forEach((key) => {\n              const el = document.createElement(\"input\");\n              el.type = \"hidden\";\n              el.name = key;\n              el.value = injectedData[key];\n\n              e.target.appendChild(el);\n            });\n\n            e.target.submit();\n            throw new Error(\"Please finish the captcha challenge\");\n          }\n\n          if (response.status !== 200) {\n            throw new Error(response.statusText);\n          }\n\n          return response.json();\n        })\n        .then(() => (status.value = \"We'll be in touch soon.\"))\n        .catch((err) => (status.value = err.toString()));\n    }\n\n    return { status, handleSubmit, FORM_ENDPOINT };\n  },\n};\n</script>\n\n<template>\n  <div class=\"w-full md:w-1/2\">\n    <div\n      class=\"leading-loose max-w-xl m-4 p-7 bg-secondary-light dark:bg-secondary-dark rounded-xl shadow-xl text-left\"\n    >\n      <p\n        class=\"font-general-medium text-primary-dark dark:text-primary-light text-2xl mb-8\"\n      >\n        Contact Form\n      </p>\n      <form\n        :action=\"FORM_ENDPOINT\"\n        @submit=\"handleSubmit\"\n        method=\"POST\"\n        class=\"font-general-regular space-y-1\"\n      >\n\t  \t<div>\n\t\t\tFull Name\n        <input\n          type=\"text\"\n          placeholder=\"Your name\"\n          name=\"name\"\n          class=\"w-full px-5 py-3 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-md\"\n          required\n        />\n\n\t\t</div>\n        Email\n\t\t<div>\n\t\t\tEmail\n\t\t\t<input\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n\t\t\tclass=\"w-full px-5 py-3 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-md\"\n            required\n          />\n\n\t\t</div>\n        Message\n          <input\n            type=\"text\"\n            placeholder=\"Message\"\n            name=\"message\"\n\t\t\tclass=\"w-full px-5 py-3 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-md\"\n            required\n          />\n\n        <div>\n          <Button\n            title=\"Send Message\"\n            class=\"px-4 py-2.5 text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500\"\n            type=\"submit\"\n            aria-label=\"Send Message\"\n          />\n        </div>\n      </form>\n      <div v-if=\"status\" class=\"text-center mt-10\">\n        <h2 class=\"text-2xl\">Thanks you!</h2>\n        <div class=\"text-md\">{{ status }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module"}