{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-full md:w-1/2\"\n};\nconst _hoisted_2 = {\n  class: \"leading-loose max-w-xl m-4 p-7 bg-secondary-light dark:bg-secondary-dark rounded-xl shadow-xl text-left\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"font-general-medium text-primary-dark dark:text-primary-light text-2xl mb-8\"\n}, \" Contact Form \", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  action: \"#\",\n  class: \"font-general-regular space-y-7\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FormInput = _resolveComponent(\"FormInput\");\n  const _component_FormTextarea = _resolveComponent(\"FormTextarea\");\n  const _component_Button = _resolveComponent(\"Button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", _hoisted_4, [_createVNode(_component_FormInput, {\n    label: \"Full Name\",\n    inputIdentifier: \"name\"\n  }), _createVNode(_component_FormInput, {\n    label: \"Email\",\n    inputIdentifier: \"email\",\n    inputType: \"email\"\n  }), _createVNode(_component_FormInput, {\n    label: \"Subject\",\n    inputIdentifier: \"subject\"\n  }), _createVNode(_component_FormTextarea, {\n    label: \"Message\",\n    textareaIdentifier: \"message\"\n  }), _createElementVNode(\"div\", null, [_createVNode(_component_Button, {\n    title: \"Send Message\",\n    class: \"px-4 py-2.5 text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500\",\n    type: \"submit\",\n    \"aria-label\": \"Send Message\"\n  })])])])]);\n}","map":{"version":3,"mappings":";;EAyEOA,KAAK,EAAC;AAAiB;;EAExBA,KAAK,EAAC;AAAyG;gCAE/GC,oBAII;EAHFD,KAAK,EAAC;AAA6E,GACpF,gBAED;;EACME,MAAM,EAAC,GAAG;EAACF,KAAK,EAAC;;;;;;uBAT3BG,oBAyBM,OAzBNC,UAyBM,GAxBJH,oBAuBM,OAvBNI,UAuBM,GApBJC,UAII,EACJL,oBAcO,QAdPM,UAcO,GAbLC,aAAsDC;IAA3CC,KAAK,EAAC,WAAW;IAACC,eAAe,EAAC;MAC7CH,aAAqEC;IAA1DC,KAAK,EAAC,OAAO;IAACC,eAAe,EAAC,OAAO;IAACC,SAAS,EAAC;MAC3DJ,aAAuDC;IAA5CC,KAAK,EAAC,SAAS;IAACC,eAAe,EAAC;MAC3CH,aAA6DK;IAA/CH,KAAK,EAAC,SAAS;IAACI,kBAAkB,EAAC;MAEjDb,oBAOM,cANJO,aAKEO;IAJAC,KAAK,EAAC,cAAc;IACpBhB,KAAK,EAAC,oIAAoI;IAC1IiB,IAAI,EAAC,QAAQ;IACb,YAAU,EAAC","names":["class","_createElementVNode","action","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_FormInput","label","inputIdentifier","inputType","_component_FormTextarea","textareaIdentifier","_component_Button","title","type"],"sourceRoot":"","sources":["/Users/francopaolodonatilara/Desktop/portfolio-vue/src/components/contact/ContactForm.vue"],"sourcesContent":["<script>\nimport Button from '../reusable/Button.vue';\nimport FormInput from '../reusable/FormInput.vue';\nimport FormTextarea from '../reusable/FormTextarea.vue';\n\n  import { ref } from \"vue\";\n  export default {\n\tcomponents: { Button, FormInput, FormTextarea },\n\t\n    setup() {\n      const endpointUrl = 'https://public.herotofu.com/v1/f96e4c70-07e3-11ee-b0a7-9f000c4c1540';\n      const FORM_ENDPOINT = ref(endpointUrl);\n      const status = ref();\n\n      function handleSubmit(e) {\n        e.preventDefault();\n\n        // Anything you need to inject dynamically\n        const injectedData = {\n          DYNAMIC_DATA_EXAMPLE: 123,\n        };\n\n        const inputs = e.target.elements;\n        const data = {};\n\n        inputs.forEach((inp) => {\n          if (inp.name) {\n            data[inp.name] = inp.value;\n          }\n        });\n\n        Object.assign(data, injectedData);\n\n        fetch(FORM_ENDPOINT.value, {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(data),\n        })\n          .then((response) => {\n            // It's likely a spam/bot request, so bypass it to validate via captcha\n            if (response.status === 422) {\n              Object.keys(injectedData).forEach((key) => {\n                const el = document.createElement(\"input\");\n                el.type = \"hidden\";\n                el.name = key;\n                el.value = injectedData[key];\n\n                e.target.appendChild(el);\n              });\n\n              e.target.submit();\n              throw new Error(\"Please finish the captcha challenge\");\n            }\n\n            if (response.status !== 200) {\n              throw new Error(response.statusText);\n            }\n\n            return response.json();\n          })\n          .then(() => (status.value = \"We'll be in touch soon.\"))\n          .catch((err) => (status.value = err.toString()));\n      }\n\n      return { status, handleSubmit, FORM_ENDPOINT };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"w-full md:w-1/2\">\n    <div\n      class=\"leading-loose max-w-xl m-4 p-7 bg-secondary-light dark:bg-secondary-dark rounded-xl shadow-xl text-left\"\n    >\n      <p\n        class=\"font-general-medium text-primary-dark dark:text-primary-light text-2xl mb-8\"\n      >\n        Contact Form\n      </p>\n      <form action=\"#\" class=\"font-general-regular space-y-7\">\n        <FormInput label=\"Full Name\" inputIdentifier=\"name\" />\n        <FormInput label=\"Email\" inputIdentifier=\"email\" inputType=\"email\" />\n        <FormInput label=\"Subject\" inputIdentifier=\"subject\" />\n        <FormTextarea label=\"Message\" textareaIdentifier=\"message\" />\n\n        <div>\n          <Button\n            title=\"Send Message\"\n            class=\"px-4 py-2.5 text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500\"\n            type=\"submit\"\n            aria-label=\"Send Message\"\n          />\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped></style>\n"]},"metadata":{},"sourceType":"module"}